# Makefile generated by imake - do not edit!
# $XConsortium: imake.c,v 1.37 88/10/08 20:08:30 jim Exp $
#
# The cpp used on this machine replaces all newlines and multiple tabs and
# spaces in a macro expansion with a single space.  Imake tries to compensate
# for this, but is not always successful.
#

###########################################################################
# Fri Jul 28 16:32:04 PDT 1989 (dredge--stanford)
# "Imake.tmpl": Imake template file for Stanford CAD tools
#
# Do not change the body of the imake template file.  Server-specific
# parameters may be set in the appropriate .def file; site-specific
# parameters (but shared by all servers) may be set in site.def.  If you
# make any changes, you'll need to rebuild the makefiles using
# "make Makefile; make Makefiles" (at least) in the top level directory.
#
# If you absolutely can't get imake to work, you'll need to set the
# variables at the top of each Makefile as well as the dependencies at the
# bottom ("make depend" will do this automatically).
#

###########################################################################
# platform-specific configuration parameters - edit Sun.def to change

          SHELL = /bin/sh
             CC = cc
            F77 = f77
           VF77 = $(F77)
            VCC = $(CC)
         RATFOR = ratfor
       CMINUS_C = -c
       FMINUS_C = -c
      VCMINUS_C = -c
      VFMINUS_C = -c
            CPP = /lib/cpp
        INSTALL = install -c -m
             RM = rm -f
          RMDIR = rm -rf
          MKDIR = mkdir
          CHMOD = chmod
             MV = mv
             CP = cp
             LN = ln -s
         RANLIB = ranlib
RANLIBINSTFLAGS = -t
             AR = ar clq
           LINT = lint
       LINTOPTS = -axz
           MAKE = make
          NROFF = nroff
       MANFLAGS = -man
     NROFF_FILT = | colcrt -

###########################################################################
# site-specific configuration parameters - edit site.def to change

# site.def: Thu Sep  7 11:15:10 PDT 1989 (dredge--stanford)

###########################################################################
# definitions common to all Makefiles - do not edit

        SYSTYPE = -DBSD
    SYSINCLUDES = -I"/tmp/icl"/include
        DESTDIR = "/tmp/icl"
         BINDIR = "/tmp/icl"/bin
         INCDIR = "/tmp/icl"/include
         LIBDIR = "/tmp/icl"/lib
         MANDIR = "/tmp/icl"/man
         MANEXT = l

     PLOTCAPDIR = "/tmp/icl"/lib
        PLOTCAP = "/tmp/icl"/lib/plotcap

    PLOTCAPLIBS = "/tmp/icl"/lib/libhigh2.a "/tmp/icl"/lib/libgplot.a
 F77PLOTCAPLIBS = "/tmp/icl"/lib/libgplotF77.a "/tmp/icl"/lib/libhigh2.a "/tmp/icl"/lib/libgplot.a
      GENII3LIB = "/tmp/icl"/lib/libgenii.a
     GENII3PROG = "/tmp/icl"/bin/genii3
       SPIFILIB = "/tmp/icl"/lib/libspifi0.a
         SYSF77 = "/tmp/icl"/lib/libsysf77.a
        F77LIBS = -lF77 -lI77 -lU77

      EDLINELIB = "/tmp/icl"/lib/libedline.a

     C_TOOLLIBS = $(SPIFILIB) $(PLOTCAPLIBS) $(EDLINELIB)
   F77_TOOLLIBS = $(GENII3LIB) $(SPIFILIB) $(F77PLOTCAPLIBS) $(SYSF77) $(EDLINELIB)
    VC_TOOLLIBS = $(C_TOOLLIBS)
  VF77_TOOLLIBS = $(F77_TOOLLIBS)

     PISCES_DIR = "/tmp/icl"/pisces
   SUPREM35_DIR = "/tmp/icl"/suprem35

   INSTBINFLAGS = 0755
   INSTLIBFLAGS = 0664
   INSTINCFLAGS = 0444
   INSTMANFLAGS = 0444
  INSTFILEFLAGS = 0444
   INSTDIRFLAGS = 0755
  COPYFILEFLAGS = 0644
   COPYBINFLAGS = 0755

    CDEBUGFLAGS =  -O
    FDEBUGFLAGS =  -O -u
   VCDEBUGFLAGS =  -O
   VFDEBUGFLAGS =  -O -u

        MAKEDEP = makedep
  MAKEDEP_FLAGS = -o Makefile.dep -N $(INCLUDES) $(SYSINCLUDES)
 MAKEDEP_OUTPUT =

CPPFLAGS= $(INCLUDES) $(DEFINES) $(SYSTYPE) $(SYSINCLUDES)
CFLAGS = $(CDEBUGFLAGS) $(CPPFLAGS)
FFLAGS = $(FDEBUGFLAGS) $(CPPFLAGS)
VCFLAGS = $(VCDEBUGFLAGS) $(CPPFLAGS)
VFFLAGS = $(VFDEBUGFLAGS) $(CPPFLAGS)
         RFLAGS = -6 -C
       CLDFLAGS = $(CDEBUGFLAGS)
       FLDFLAGS = $(FDEBUGFLAGS)
      VCLDFLAGS = $(VCDEBUGFLAGS)
      VFLDFLAGS = $(VFDEBUGFLAGS)

LINT = lint
LINTFLAGS = -hxanc $(INCLUDES) $(DEFINES) $(SYSTYPE) $(SYSINCLUDES)
LINTLIBFLAGS = $(INCLUDES) $(DEFINES) $(SYSTYPE) $(SYSINCLUDES) -v -C
LINTDIR = "/tmp/icl"/lib

        MATHLIB = -lm
        SYSLIBS =  -ltermcap $(MATHLIB)

      MACROFILE = Sun.def
         SYSDEF = -DSUN4
      SHELL_EXT = .sh

# Imake parameters
          IRULE = /tmp/release/utils/imakesrc
          IMAKE = /tmp/bin/imake
   ICONFIGFILES = Imakefile $(IRULE)/Imake.tmpl $(IRULE)/$(MACROFILE) \
			$(IRULE)/site.def $(IRULE)/Imake.rules

  IMAKE_DEFINES =
      IMAKE_CMD = $(IMAKE) -TImake.tmpl -I$(IRULE)/Defaults -I$(IRULE) \
			-s Makefile $(SYSDEF) $(IMAKE_DEFINES) \
			'-DImakeDefines=$(IMAKE_DEFINES)'

         RM_CMD = $(RM) *.CKP *.BAK *.bak *.o core ,* *~ *.a \
			.emacs_* tags make.log

# The user Imakefile could probably override this
     RELEASEDIR = release

# Some Makes are compiled with the .f and .r reverses
#  anyway, make sure that we get what we really want.

.SUFFIXES:

.SUFFIXES: .o .r .F .f .c

# Specific rules.

.c.o:
	$(CC) $(CMINUS_C) $(CFLAGS) $*.c

.f.o:
	$(F77) $(FMINUS_C) $(FFLAGS) $*.f

.r.o:
	$(RATFOR) $(RFLAGS) $*.r > $*.f
	$(F77) $(FMINUS_C) $(FFLAGS) $*.f

###########################################################################
# start of Imakefile

# Tue Oct 31 14:04:37 PST 1989 (dredge--stanford)
##----------------------------------------------------------------------
##  Copyright 1986 by
##  The Board of Trustees of the Leland Stanford Junior University
##  All rights reserved.
##
##  This routine may not be used without the prior written consent of
##  the Board of Trustees of the Leland Stanford University.
##----------------------------------------------------------------------

# -----------------------------------------------------------------------------
# Easy to change things......

# GPlot version number (incase anyone cares)
# 8941,8939,8832,8826,8825,8051,8041,8034,7071,5052
REV_CODE= 9006

# -DDO_STATS
DEFINES=

# Destination for the library.
GPLOT	= libgplot.a

# Manual pages.
MANGPLOT = ${MANDIR}/gplot.${MANEXT}
MANGPLOT2= ${MANDIR}/gplot2.${MANEXT}

# -----------------------------------------------------------------------------
# GPLOT routines
GT	= gt.o
GP	= \
	gp_gplot2.o gp_gpmisc.o \
	gp_pdev.o gp_pfil.o gp_gpwork.o \
	gp_setup.o gp_setcap.o get_txt.o \
	gp_area.o gp_clip.o gp_lines.o gp_prast.o gp_xform.o gp_pix.o \
	gp_alu12.o \
	gp_fmp.o gp_gmode.o \
	mkuniq.o gp_rand.o

# GPlot sources
GSRC	= \
	gp_gplot2.c gp_gpmisc.c \
	gp_pdev.c gp_pfil.c gp_gpwork.c \
	gp_setup.c gp_setcap.c get_txt.c \
	gp_area.c gp_clip.c gp_lines.c gp_prast.c gp_xform.c gp_pix.c \
	gp_alu12.c \
	gp_fmp.c gp_gmode.c \
	mkuniq.c gp_rand.c

GINC	= gplot.h gp_def.h gp_com.h gp_mis12.h gp_caps.h

# -----------------------------------------------------------------------------
# PGETxxx routines
PT = pt.o
PG = pg_pgetent.o \
	pg_pgetflag.o pg_pgetnum.o pg_pgetstr.o \
	pg_pgetprg.o \
	pg_entok.o pg_erset.o \
	px_stab.o \
	al_dis18.o al_tst18.o

PSRC = pg_pgetent.c \
	pg_pgetflag.c pg_pgetnum.c pg_pgetstr.c \
	pg_entok.c pg_erset.c \
	px_stab.c \
	al_dis18.c al_tst18.c

MSRC = pg_pgetprg.m
MCSRC= pg_pgetprg.c

PINC	= pg_def.h pg_lex.h al_alu18.h al_dis18.h gp_gplot.h

# -----------------------------------------------------------------------------
# MISC routines
X= glexs.o

CSOURCES = ${GSRC} ${PSRC} $(MCSRC) glexs.c
SOURCES = ${CSOURCES}
INCS = ${GINC} ${PINC} auxfns.h gpmarks.h

# -----------------------------------------------------------------------------
# Misc...
MISC = pt.c gt.c

# -----------------------------------------------------------------------------

all:: $(GPLOT)

# Compilation Rules

$(GPLOT): $(GP) $(PG) $(X)
	$(RM) $@
	$(AR) $(GPLOT) $(GP) $(PG) $(X)
	$(RANLIB) $(RANLIBFLAGS) $(GPLOT)
	@echo make $(GPLOT) done.

lintlibs:: llib-lgplot.ln
llib-lgplot.ln:: $(CSOURCES)
	$(LINT) $(LINTLIBFLAGS)gplot $(CSOURCES)
clean::
	$(RM) llib-lgplot.ln

# Just for testing....
# Gplot test program.

gt: $(GT) $(GP) $(PG) $(X)
	$(RM) $@
	$(CC) -o $@ $(CLDFLAGS) $(GT) $(GP) $(PG) $(X)    $(SYSLIBS)
	@echo make gt done.

clean::
	$(RM) gt

# plotcap reader test program

pt: $(PT) $(PG) $(X)
	$(RM) $@
	$(CC) -o $@ $(CLDFLAGS) $(PT) $(PG) $(X)    $(SYSLIBS)
	@echo make pt done.

clean::
	$(RM) pt

depend:: gp_vers.h gp_pclocs.h

# INSTALL everything.

install:: $(LIBDIR)/$(GPLOT)
$(LIBDIR)/$(GPLOT): $(GPLOT)
	$(INSTALL) $(INSTLIBFLAGS) $(GPLOT) $(LIBDIR)/$(GPLOT)
	$(RANLIB) $(RANLIBINSTFLAGS) $(LIBDIR)/$(GPLOT)

install:: $(INCDIR)/gplot.h
$(INCDIR)/gplot.h: gplot.h
	$(INSTALL) $(INSTFILEFLAGS) gplot.h $(INCDIR)/gplot.h

install:: $(INCDIR)/gpmarks.h
$(INCDIR)/gpmarks.h: gpmarks.h
	$(INSTALL) $(INSTFILEFLAGS) gpmarks.h $(INCDIR)/gpmarks.h

install:: $(MANGPLOT2)
$(MANGPLOT2): gplot2.man
	$(INSTALL) $(INSTMANFLAGS) gplot2.man $(MANGPLOT2)

install:: $(MANGPLOT)
$(MANGPLOT): gplot.man
	$(INSTALL) $(INSTMANFLAGS) gplot.man $(MANGPLOT)

# The `program' parser is made with a little effort...using mkpar(1L)

.m.c:
	mp -l c -o $@ $*.m

# ----------------------------------------------------------------------------

###########################################################################
# Imake.tmpl common rules for all Makefiles - do not edit

emptyrule::

clean::
	$(RM_CMD)

Makefile:: $(ICONFIGFILES)
	-@if [ -f Makefile ] ; then \
	$(RM) Makefile.bak; $(CP) Makefile Makefile.bak;\
	fi
	$(IMAKE_CMD)

depend::
	$(MAKEDEP) $(MAKEDEP_FLAGS) $(SOURCES)

lint::
	$(LINT) $(LINTFLAGS) $(CSOURCES) $(LINTLIBS)

release::
	@echo "release done."

Makefiles::
	@echo "Makefiles done."
install::
	@echo "install done."
lintlibs::
	@echo "lintlibs done."

# Force any target -- make it depend on 'Please'
Please:

###########################################################################
# dependencies generated by makedepend

pg_pgetprg.o: \
	auxfns.h \
	pg_def.h \
	pg_lex.h \
	al_alu18.h \
	al_dis18.h \
	gp_gplot.h
al_tst18.o: \
	al_alu18.h
al_dis18.o: \
	auxfns.h \
	pg_lex.h \
	al_alu18.h \
	al_dis18.h \
	gp_gplot.h
pg_erset.o: \
	auxfns.h \
	pg_def.h \
	pg_lex.h
pg_entok.o: \
	auxfns.h \
	pg_lex.h \
	pg_def.h
pg_pgetstr.o: \
	auxfns.h \
	pg_def.h \
	pg_lex.h
pg_pgetnum.o: \
	auxfns.h \
	pg_def.h \
	pg_lex.h
pg_pgetent.o: \
	auxfns.h \
	pg_lex.h \
	pg_def.h
gp_rand.o: \
	auxfns.h \
	gplot.h \
	gp_def.h \
	gp_com.h
mkuniq.o: \
	auxfns.h
gp_gmode.o: \
	auxfns.h \
	al_alu18.h \
	gp_mis12.h \
	gp_def.h \
	gp_com.h \
	gplot.h
gp_fmp.o: \
	gplot.h
gp_alu12.o: \
	auxfns.h \
	al_alu18.h \
	gp_gplot.h \
	gp_mis12.h
gp_pix.o: \
	auxfns.h \
	al_alu18.h \
	gp_def.h \
	gp_com.h \
	gplot.h
gp_xform.o: \
	auxfns.h \
	gp_def.h \
	gp_com.h \
	gplot.h
gp_lines.o: \
	auxfns.h \
	gplot.h \
	al_alu18.h \
	gp_def.h \
	gp_com.h
gp_clip.o: \
	auxfns.h \
	gp_def.h \
	gp_com.h
gp_area.o: \
	auxfns.h \
	al_alu18.h \
	gp_def.h \
	gp_com.h \
	gplot.h
get_txt.o: \
	auxfns.h \
	gp_mis12.h \
	gp_def.h \
	gp_com.h
gp_setcap.o: \
	auxfns.h \
	al_alu18.h \
	gp_mis12.h \
	gp_def.h \
	gp_com.h \
	gp_caps.h
gp_setup.o: \
	auxfns.h \
	al_alu18.h \
	gp_def.h \
	gp_com.h \
	gplot.h
gp_gpwork.o: \
	auxfns.h \
	gp_mis12.h \
	al_alu18.h \
	gplot.h \
	gp_def.h \
	gp_com.h
gp_pfil.o: \
	auxfns.h \
	gp_mis12.h \
	gp_def.h \
	gp_com.h \
	gplot.h
gp_pdev.o: \
	auxfns.h \
	gp_mis12.h \
	gp_def.h \
	gp_com.h \
	gp_pclocs.h \
	gplot.h
gp_gpmisc.o: \
	auxfns.h \
	gplot.h \
	al_alu18.h \
	gp_def.h \
	gp_com.h
gp_gplot2.o: \
	auxfns.h \
	gplot.h \
	al_alu18.h \
	gp_def.h \
	gp_vers.h \
	gp_com.h

